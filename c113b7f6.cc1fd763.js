(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{116:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(122),r=a(123),c=a.n(r),i=a(0),u=a.n(i),o=a(118),l={loading:!0,user:null},s=Object(i.createContext)(l),p=function(e){var t=Object(i.useState)(),a=t[0],r=t[1],l=Object(i.useState)(),p=l[0],d=l[1];return Object(i.useEffect)((function(){var e=o.a.onAuthStateChanged(function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t),t||d(null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]),Object(i.useEffect)((function(){if(a){var e=o.b.collection("users").doc(a.uid).onSnapshot(function(){var e=Object(n.a)(c.a.mark((function e(t){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!==(r=t.data())&&void 0!==r?r:{},d({data:i,fbUser:a,reload:function(){return Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.reload();case 2:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}}),[a]),u.a.createElement(s.Provider,{value:{loading:void 0===p,user:null!=p?p:null}},e.children)};function d(){var e=Object(i.useContext)(s);if(!e.loading)return e.user}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(129),r=(a(151),a(162),a(8));if(r.a.canUseDOM){n.a.initializeApp({apiKey:"AIzaSyBxzHIAi4QHYE_b2z9Npz45FA6Gqvo_gUM",authDomain:"stc-rs.firebaseapp.com",projectId:"stc-rs",storageBucket:"stc-rs.appspot.com",messagingSenderId:"396574604098",appId:"1:396574604098:web:b0d421aa1fb42bcf19a6db",measurementId:"G-8757N7Y0S0"})}var c=r.a.canUseDOM?n.a.auth():void 0,i=r.a.canUseDOM?n.a.firestore():void 0},95:function(e,t,a){"use strict";a.r(t);var n=a(122),r=a(123),c=a.n(r),i=a(150),u=a(0),o=a.n(u),l=a(129),s=a(105),p=a(116),d=a(229),f=a(232),m=a(230),v=a(86),b=a.n(v),w=a(3),E=a(231),h=a(191),g=a(118),j=a(192),y=a.n(j),O=a(2),k=function(){var e=Object(O.l)();if(e.search&&e.search.length>1){var t=y.a.parse(e.search.substring(1)).redirect;return Array.isArray(t)?o.a.createElement(O.c,{to:""+decodeURIComponent(t[0])}):o.a.createElement(O.c,{to:""+decodeURIComponent(t)})}return o.a.createElement(O.c,{to:"/"})},x=function(){if(Object(p.b)())return o.a.createElement(k,null);var e=Object(h.a)(),t=e[0],a=e[1],r=a.email,i=a.password,l=Object(u.useState)(!1),s=l[0],m=l[1];function v(){return(v=Object(n.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.stopPropagation(),!s){e.next=16;break}if(t.values.pw===t.values.pw2){e.next=6;break}return alert("Passsword check is different from password"),e.abrupt("return");case 6:return e.prev=6,e.next=9,g.a.createUserWithEmailAndPassword(t.values.email,t.values.pw);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert("Failed to sign up: "+e.t0);case 14:e.next=24;break;case 16:return e.prev=16,e.next=19,g.a.signInWithEmailAndPassword(t.values.email,t.values.pw);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(16),alert("Failed to sign in: "+e.t1);case 24:case"end":return e.stop()}}),e,null,[[6,11],[16,21]])})))).apply(this,arguments)}return o.a.createElement("form",{action:"post",onSubmit:function(e){return v.apply(this,arguments)}},o.a.createElement("div",null,o.a.createElement(E.a,Object(w.a)({variant:"outlined",fullWidth:!0,label:"Email"},r("email"),{autoComplete:"username"})),o.a.createElement("div",{style:{marginTop:12}}),o.a.createElement(E.a,Object(w.a)({variant:"outlined",fullWidth:!0,label:"Password"},i("pw"),{autoComplete:s?"new-password":"current-password"})),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{marginTop:12}}),o.a.createElement(E.a,Object(w.a)({variant:"outlined",fullWidth:!0,label:"Password check",type:"password"},i("pw2"),{autoComplete:"new-password"}))),o.a.createElement("div",{style:{marginTop:6}}),o.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-end"},o.a.createElement(d.a,{item:!0},o.a.createElement(f.a,{onClick:function(){return m((function(e){return!e}))}},s?"Go back":"Sign Up"))),o.a.createElement("div",{style:{marginTop:18}}),o.a.createElement(f.a,{variant:"contained",fullWidth:!0,type:"submit"},s?"Sign Up":"Sign In")))};t.default=function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.signInWithPopup(new l.a.auth.GoogleAuthProvider);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement(i.a,{fallback:o.a.createElement("div",null,"Login page")},(function(){return o.a.createElement(s.a,null,o.a.createElement(p.a,null,o.a.createElement(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:b.a.container},o.a.createElement(d.a,{item:!0,xs:12,lg:3},o.a.createElement("div",null,o.a.createElement(f.a,{variant:"contained",fullWidth:!0,onClick:e},"Sign in with google")),o.a.createElement("div",{style:{marginTop:24}}),o.a.createElement(m.a,null),o.a.createElement("div",{style:{marginTop:36}}),o.a.createElement(x,null),o.a.createElement("div",{style:{marginTop:72}})))))}))}}}]);