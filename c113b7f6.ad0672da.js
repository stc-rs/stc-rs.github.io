(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{116:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(122),r=a(123),c=a.n(r),i=a(0),u=a.n(i),o=a(118),l={loading:!0,user:null},s=Object(i.createContext)(l),p=function(e){var t=Object(i.useState)(),a=t[0],r=t[1],l=Object(i.useState)(),p=l[0],d=l[1];return Object(i.useEffect)((function(){var e=o.a.onAuthStateChanged(function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t),t||d(null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]),Object(i.useEffect)((function(){if(a){var e=o.b.collection("users").doc(a.uid).onSnapshot(function(){var e=Object(n.a)(c.a.mark((function e(t){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!==(r=t.data())&&void 0!==r?r:{},d({data:i,fbUser:a,reload:function(){return Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.reload();case 2:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}}),[a]),u.a.createElement(s.Provider,{value:{loading:void 0===p,user:null!=p?p:null}},e.children)};function d(){var e=Object(i.useContext)(s);if(!e.loading)return e.user}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(129),r=(a(151),a(162),a(8));if(r.a.canUseDOM){n.a.initializeApp({apiKey:"AIzaSyBxzHIAi4QHYE_b2z9Npz45FA6Gqvo_gUM",authDomain:"stc-rs.firebaseapp.com",projectId:"stc-rs",storageBucket:"stc-rs.appspot.com",messagingSenderId:"396574604098",appId:"1:396574604098:web:b0d421aa1fb42bcf19a6db",measurementId:"G-8757N7Y0S0"})}var c=r.a.canUseDOM?n.a.auth():void 0,i=r.a.canUseDOM?n.a.firestore():void 0},95:function(e,t,a){"use strict";a.r(t);var n=a(122),r=a(123),c=a.n(r),i=a(150),u=a(229),o=a(232),l=a(230),s=a(105),p=a(129),d=a(0),f=a.n(d),m=a(116),v=a(3),b=a(231),w=a(191),E=a(118),h=a(192),g=a.n(h),j=a(2),y=function(){var e=Object(j.l)();if(e.search&&e.search.length>1){var t=g.a.parse(e.search.substring(1)).redirect;return Array.isArray(t)?f.a.createElement(j.c,{to:""+decodeURIComponent(t[0])}):f.a.createElement(j.c,{to:""+decodeURIComponent(t)})}return f.a.createElement(j.c,{to:"/"})},O=function(){if(Object(m.b)())return f.a.createElement(y,null);var e=Object(w.a)(),t=e[0],a=e[1],r=a.email,i=a.password,l=Object(d.useState)(!1),s=l[0],p=l[1];function h(){return(h=Object(n.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.stopPropagation(),!s){e.next=16;break}if(t.values.pw===t.values.pw2){e.next=6;break}return alert("Passsword check is different from password"),e.abrupt("return");case 6:return e.prev=6,e.next=9,E.a.createUserWithEmailAndPassword(t.values.email,t.values.pw);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert("Failed to sign up: "+e.t0);case 14:e.next=24;break;case 16:return e.prev=16,e.next=19,E.a.signInWithEmailAndPassword(t.values.email,t.values.pw);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(16),alert("Failed to sign in: "+e.t1);case 24:case"end":return e.stop()}}),e,null,[[6,11],[16,21]])})))).apply(this,arguments)}return f.a.createElement("form",{action:"post",onSubmit:function(e){return h.apply(this,arguments)}},f.a.createElement("div",null,f.a.createElement(b.a,Object(v.a)({variant:"outlined",fullWidth:!0,label:"Email"},r("email"),{autoComplete:"username"})),f.a.createElement("div",{style:{marginTop:12}}),f.a.createElement(b.a,Object(v.a)({variant:"outlined",fullWidth:!0,label:"Password"},i("pw"),{autoComplete:s?"new-password":"current-password"})),s&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{style:{marginTop:12}}),f.a.createElement(b.a,Object(v.a)({variant:"outlined",fullWidth:!0,label:"Password check",type:"password"},i("pw2"),{autoComplete:"new-password"}))),f.a.createElement("div",{style:{marginTop:6}}),f.a.createElement(u.a,{container:!0,direction:"row",justify:"flex-end"},f.a.createElement(u.a,{item:!0},f.a.createElement(o.a,{onClick:function(){return p((function(e){return!e}))}},s?"Go back":"Sign Up"))),f.a.createElement("div",{style:{marginTop:18}}),f.a.createElement(o.a,{variant:"contained",fullWidth:!0,type:"submit"},s?"Sign Up":"Sign In")))},k=a(86),x=a.n(k);t.default=function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.signInWithPopup(new p.a.auth.GoogleAuthProvider);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return f.a.createElement(i.a,{fallback:f.a.createElement("div",null,"Login page")},(function(){return f.a.createElement(s.a,{title:"Sign in"},f.a.createElement(m.a,null,f.a.createElement(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:x.a.container},f.a.createElement(u.a,{item:!0,xs:12,lg:3},f.a.createElement("div",null,f.a.createElement(o.a,{variant:"contained",fullWidth:!0,onClick:e},"Sign in with google")),f.a.createElement("div",{style:{marginTop:24}}),f.a.createElement(l.a,null),f.a.createElement("div",{style:{marginTop:36}}),f.a.createElement(O,null),f.a.createElement("div",{style:{marginTop:72}})))))}))}}}]);